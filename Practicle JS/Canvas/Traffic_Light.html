<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>The_Traffic_Light</title>
    <style>
      .first_can {
        margin: 0px auto;
        border: none;
        display: block;
        background-color: black;
        border-radius: 10px;
      }
      .second_can {
        margin: 0px auto;
        border: none;
        display: block;
        background-color: grey;
      }
    </style>
  </head>
  <body>
    <canvas class = "first_can" tabindex = "1" width="200" height="600"></canvas>
    <canvas class = "second_can" tabindex = "2" width="70" height="600"></canvas>
    <script>
    const canvas = document.querySelector('canvas');
    const ctx = canvas.getContext ('2d');


    let stop_car = (e) => {
      ctx.beginPath();
      ctx.lineWidth = 5;
      ctx.strokeStyle = "grey";
      ctx.fillStyle = "blue";
      ctx.arc(100, 100, 70, 0, Math.PI*2, false);
      ctx.stroke();
      ctx.closePath();
  }                                            /*Метод arc принимает 6 аргументов:
                                                 Первый - это точка x (центр круга);
                                                  Вторая - это точка y;
                                                  Радиус круга;
                                                  Начальный угол окружности;
                                                  Конечный угол окружности;
                                                  Направление прорисовки (false – по часовой стрелке) */
    let wait_car = (e) => {
      ctx.beginPath();
      ctx.lineWidth = 5;
      ctx.strokeStyle = "grey";
      ctx.fillStyle = "yellow";
      ctx.arc(100, 300, 70, 0, Math.PI*2, false);
      ctx.stroke();
      ctx.closePath();
  }

    let go_car = (e) => {
      ctx.beginPath();
      ctx.lineWidth = 5;
      ctx.strokeStyle = "grey";
      ctx.fillStyle = "green";
      ctx.arc(100, 500, 70, 0, Math.PI*2, false);
      ctx.stroke();
      ctx.closePath();
    }


   canvas.onclick = (e) => {
   let start = Date.now();                      // сохранить время начала

    let timer = setInterval (() => {           // вычислить сколько времени прошло
      let timePassed = Date.now() - start;
    /*  ctx.fillStyle(); */

      if (timePassed >= 3000) clearInterval(timer);                 // конец через 1 секунду
         },  25 );
      }

    stop_car ();
    wait_car ();
    go_car ();



    </script>

  </body>
</html>
