<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>Pushing_from_border</title>
    <style>
      canvas {
        margin: 0px auto; /*задаем канвасу границы */
        border: 1px solid black;
        display:block;
      }
    </style>
  </head>
  <body>
    <canvas width = "800" height = "400"></canvas>  <!--Задаем размеры канваса ширина, высота (ось х направлена вниз)-->
    <script>
     const canvas = document.querySelector('canvas');    /*    Обязательные переменные   */
     const ctx = canvas.getContext('2d');               /*  для работы канваса. Задать контекст 2d  */
     const [width, height] = [canvas.width, canvas.height]; /*задаем высоту ширину в массив , что бы мы могли брать позже его значение(точнее 2 значения) */

     let x = Math.floor(Math.random() * (width - 50)); /* Задаем функцией math.random появление квадрата в разных местах по оси х;
      так как Math.random задает число положительное за границей канваса справа квадрат не может появиться, и что бы он не появился за границей справа
      мы берем ширину канваса и вычитаем 50 px. (ширина самого квадрата) */
     let y = Math.floor(Math.random() * (height - 50)); /* Аналогично по оси Y (вниз), что бы квадрат не уехал вниз,
     берем максимальную точку высоты канваса и вычитаем 50 px (высоту самого квадрата).      */
     let speedX = Math.random() - 0.5 < 0 ? -3 : 3;    /*  Задаем переменную скорости движения квадрата по оси x
     Если (рандомное число минус - 0.5) < 0 (? то ) скорость - 3px , ( : иначе) 3px */
     let speedY = Math.random() - 0.5 < 0 ? -3 : 3;   /* Задаем переменную скорости движения квадрата по оси y
     Если (рандомное число минус - 0.5) меньше < 0 (? то ) скорость - 3px , ( : иначе) 3px */

     setInterval(() => {                       /* Записываем функцию движения нашего квадрата внутри канваса по диагонали */
       ctx.clearRect(0, 0, width, height);     /* Очищаем канвас , так как если этого не делать то все появления кубов будут оставаться, в итоге
                                                в канвасе будет много квадратов, а не 1.  */

       ctx.fillRect(x, y, 50, 50);             /*Отображение квадрата, положение по оси х, y здесь конкретно не задано, а берется из переменных
                                                let x, let y (выше задавали) рандомные числа. И 3-е, 4-ое значение размеры
                                               самого квадрата внутри канваса 50px на 50px, начало координат у квадрата верхний левый угол*/


       x += speedX;                            /*Задаются новые координаты по оси х (+или- 3px)  */
       if (x < 0 || x > width - 50) {          /*Если х < 0 , то присвоение отрицательным координатам отрицательного значения даст плюс и квадрат начнет двигаться в противоположн. сторону*/
         speedX =-speedX;                      /*или х > (ширины канваса -50), то скорость по оси х будет отрицательная (в другую сторону - 3px) */
       }
       y +=speedY;                            /*Задаются новые координаты по оси y (+или- 3px) Отрисовка квадрата происходит на новой координате, цикл длится до тех пор пока...*/
       if (y < 0 || y > height - 50) {       /*Если y < 0, то присвоение отрицательным координатам отрицательного значения даст плюс и квадрат начнет двигаться в противоположн. сторону
                                              или y > (высоты канваса -50), 50 это ширина и высота самого квадрата, что бы не заезжал за канвас */
         speedY =-speedY;                   /*то скорость по оси y станет отрицательная (в другую сторону - 3px) */
       }
     }, 25);                              /* каждые 25 милисекунд отрисовывается квадрат по новым координатам*/
    </script>
  </body>
</html>
