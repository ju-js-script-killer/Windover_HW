<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Canvas_press_keys</title>
    <style>
      canvas {
        margin: 0px auto;
        outline: none;
        display: block;
        background-color: violet;
        border-radius: 10px;
      }
      </style>
  </head>
  <body>
    <canvas width="800" height="400"></canvas>
    <script>
        const canvas = document.querySelector ('canvas');
        const ctx = canvas.getContext('2d');
        const [width, height] = [canvas.width, canvas.height];
        const keys = {
          LEFT: 37,
          UP: 38,
          RIGHT: 39,
          DOWN:  40
        };
        let text = '';
        function foo (e) {  // const foo = (e) => {
          switch (e.keyCode) {
            case keys.LEFT: text = 'LEFT pressed'; ctx.fillStyle = "red"; break; // добавление цвета на каж кномпу по нажатию
            case keys.UP: text = 'UP pressed'; ctx.fillStyle = "white"; break;
            case keys.RIGHT: text = 'RIGHT pressed'; ctx.fillStyle = "red"; break;
            case keys.DOWN: text = 'DOWN pressed'; ctx.fillStyle = "black"; break;
            default: text = 'Another button'; ctx.fillStyle = "blue";
          }
        };
        function bar (e) {     // const bar = (e) => {
          switch (e.keyCode) {
            case keys.LEFT: text = 'LEFT released'; ctx.fillStyle = "grey"; break;
            case keys.UP: text = 'UP released'; ctx.fillStyle = "grey"; break;
            case keys.RIGHT: text = 'RIGHT released'; ctx.fillStyle = "grey"; break;
            case keys.DOWN: text = 'DOWN released'; ctx.fillStyle = "grey"; break;
            default: text = 'Another button'; ctx.fillStyle = "blue";
          }
        };
        document.onkeydown = foo;
        document.onkeyup = bar;
        setInterval (function () {
          ctx.clearRect(0, 0, width, height);
          ctx.font = "70px Arial";
      /*  ctx.fillStyle = "red"; // последовательность в функции важна , для каждого нажатия красный.*/
          ctx.fillText (text, 170, 220);

        }, 25);
        </script>
  </body>
</html>
